/* ========= THEME TOKENS ========= */
:root{
  --primary:#3A56D4; --primary-600:#324BC7; --primary-100:rgba(58,86,212,.08);
  --success:#28a745; --warning:#ffc107; --danger:#dc3545;
  --white:#fff; --black:#000;
  --gray-50:#F7F8FB; --gray-100:#F0F2F7; --gray-200:#E5E9F0; --gray-300:#D7DDE6;
  --gray-400:#C3CBD6; --gray-500:#A2ADC0; --gray-600:#6c757d; --gray-700:#495057;
  --gray-800:#343a40; --gray-900:#1A1A1A;

  --body-bg:#F4F6FA; --body-fg:#1A1A1A;
  --card-bg:#fff; --card-border:#E0E6ED;
  --input-bg:#fff; --input-fg:#1A1A1A; --input-border:#CED4DA;

  --transition:all .25s ease;

  /* Bootstrap bridges */
  --bs-body-bg:var(--body-bg);
  --bs-body-color:var(--body-fg);
  --bs-border-color:var(--card-border);
  --bs-primary:var(--primary);
  --bs-primary-rgb:58,86,212;
  --bs-primary-bg-subtle:var(--primary-100);
  --bs-card-bg:var(--card-bg);
}

/* ========= DARK MODE ========= */
[data-bs-theme="dark"]{
  --body-bg:#0F1116; --body-fg:#E6E8EF;
  --card-bg:#171A21; --card-border:#222735;
  --input-bg:#1C2130; --input-fg:#E6E8EF; --input-border:#2B3243;
  --bs-body-bg:var(--body-bg); --bs-body-color:var(--body-fg);
  --bs-border-color:var(--card-border); --bs-card-bg:var(--card-bg);
  --bs-primary-bg-subtle:rgba(58,86,212,.14);
}

/* ========= BASE ========= */
html,body{height:100%}
body{background:var(--body-bg);color:var(--body-fg);font-family:'Segoe UI',system-ui,-apple-system,sans-serif;line-height:1.6;transition:var(--transition)}
a{color:var(--primary);text-decoration:none}
a:hover{color:var(--primary-600)}
::selection{background:var(--primary);color:#fff}

/* Focus */
:focus{outline:2px solid rgba(var(--bs-primary-rgb),.35);outline-offset:2px}

/* ========= NAVBAR ========= */
.navbar{
  background:var(--card-bg)!important;border-bottom:1px solid var(--card-border);
  box-shadow:0 2px 10px rgba(0,0,0,.05);position:sticky;top:0;z-index:1030;min-height:64px
}
.navbar-brand{font-weight:700;font-size:1.25rem;color:var(--body-fg)!important;border-radius:.5rem;padding:.25rem .6rem}
.navbar-brand:hover{background:var(--bs-primary-bg-subtle);color:var(--primary)!important}
.nav-link{color:var(--body-fg)!important;border-radius:.5rem;padding:.5rem .9rem!important;transition:var(--transition)}
.nav-link:hover,.nav-link:focus{background:var(--bs-primary-bg-subtle);color:var(--primary)!important}

/* ========= BUTTONS ========= */
.btn{border-radius:.5rem;font-weight:600;transition:var(--transition)}
.btn-primary{background:var(--primary);border-color:var(--primary)}
.btn-primary:hover{background:var(--primary-600);border-color:var(--primary-600);transform:translateY(-1px)}
.btn-outline-primary{color:var(--primary);border-color:var(--primary)}
.btn-outline-primary:hover{background:var(--primary);color:#fff}

/* ========= FORMS ========= */
.form-control,.form-select{
  background:var(--input-bg);color:var(--input-fg);border:1px solid var(--input-border);
  border-radius:.5rem
}
.form-control:focus,.form-select:focus{
  border-color:var(--primary);box-shadow:0 0 0 .25rem rgba(var(--bs-primary-rgb),.2)
}

/* ========= CARDS ========= */
.card{
  background:var(--card-bg);border:1px solid var(--card-border);border-radius:.75rem;
  box-shadow:0 6px 18px rgba(0,0,0,.04);transition:transform .2s ease, box-shadow .2s ease
}
.card:hover{transform:translateY(-2px);box-shadow:0 10px 24px rgba(0,0,0,.08)}
.card-header{background:transparent;border-bottom:1px solid var(--card-border)}

/* ========= HERO / CTA ========= */
.hero-section{
  background:var(--body-bg);
}
[data-bs-theme="dark"] .hero-section{
  background:var(--body-bg);
}
.hero-content{
  background:var(--card-bg);border:1px solid var(--card-border);border-radius:1rem;padding:2.25rem 1.75rem
}
.hero-icon{font-size:2.25rem;color:var(--primary);opacity:.9}

/* ========= FEATURES ========= */
.features-section{background:var(--body-bg)}
[data-bs-theme="dark"] .features-section{background:var(--body-bg)}

/* ========= CTA ========= */
.cta-section{background:var(--body-bg)}
[data-bs-theme="dark"] .cta-section{background:var(--body-bg)}
.feature-card{
  background:var(--card-bg);border:1px solid var(--card-border);border-radius:.9rem;
  box-shadow:0 6px 16px rgba(0,0,0,.06);transition:transform .2s ease, box-shadow .2s ease
}
.feature-card:hover{transform:translateY(-3px);box-shadow:0 12px 28px rgba(0,0,0,.12)}
.feature-icon i{font-size:1.35rem;color:var(--primary)}

/* ========= SEARCH ========= */
.search-container{
  background:var(--card-bg);border:1px solid var(--card-border);border-radius:.9rem;padding:1rem
}
.search-results{background:var(--card-bg)}
.search-result-item:hover{background:var(--bs-primary-bg-subtle)}

/* ========= WEATHER CARD ========= */
.weather-card .weather-current{
  background:var(--card-bg);
  border:1px dashed var(--card-border)
}
[data-bs-theme="dark"] .weather-card .weather-current{
  background:linear-gradient(135deg, rgba(58,86,212,.16), transparent 60%);
}
.detail-card{
  background:var(--card-bg);border:1px solid var(--card-border);border-radius:.75rem
}

/* ========= FAVORITOS ========= */
.cards-grid{
  display:grid;gap:1rem;grid-template-columns:repeat(auto-fill, minmax(260px,1fr))
}
.card-fav{height:100%}

/* ========= TOAST (custom) ========= */
.toast{border:1px solid var(--card-border);background:var(--card-bg)}
.toast-header{background:transparent;border-bottom:1px solid var(--card-border)}

/* ========= SMALL HELPER ========= */
.small-muted{font-size:.875rem;color:var(--gray-600)}
